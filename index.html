<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>VSPhone ‚Äì Qu·∫£n l√Ω & Buff</title>
<style>
    body { font-family: Arial, sans-serif; background: #f4f7f6; padding: 20px; }
    .container { max-width: 1000px; margin: auto; background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; }
    th, td { border: 1px solid #ddd; padding: 12px; text-align: left; }
    th { background: #f8f9fa; }
    .btn { padding: 6px 12px; border: none; border-radius: 4px; cursor: pointer; font-weight: bold; color: white; }
    .btn-login { background: #007bff; }
    .btn-buff { background: #28a745; margin-left: 5px; }
    .channel-input { padding: 8px; width: 200px; margin-bottom: 10px; border: 1px solid #ccc; border-radius: 4px; }
</style>
</head>
<body>

<div class="container">
    <h2>VSPhone ‚Äì Qu·∫£n l√Ω t√†i kho·∫£n</h2>
    <div>
        <label>Nh·∫≠p Channel ID Discord: </label>
        <input type="text" id="channelId" class="channel-input" placeholder="V√≠ d·ª•: 123456789012345678" value="">
    </div>

    <table id="accountTable">
        <thead>
            <tr>
                <th>#</th>
                <th>N·ªÅn t·∫£ng</th>
                <th>Email</th>
                <th>Password</th>
                <th>Thao t√°c</th>
            </tr>
        </thead>
        <tbody id="tbody">
            <tr><td colspan="5">ƒêang t·∫£i d·ªØ li·ªáu...</td></tr>
        </tbody>
    </table>
</div>

<script>
const SHEET_JSON_URL = 'https://opensheet.elk.sh/1fU4ppbOWDikPkEWUdXiyqrUn8JHXvt-PJjS778J-R8M/Trang%20t%C3%ADnh1';

async function loadSheet() {
    try {
        const res = await fetch(SHEET_JSON_URL);
        const data = await res.json();
        renderTable(data);
    } catch (e) {
        document.querySelector('#tbody').innerHTML = '<tr><td colspan="5">‚ùå L·ªói load d·ªØ li·ªáu</td></tr>';
    }
}

function renderTable(rows) {
    const tbody = document.querySelector('#tbody');
    tbody.innerHTML = '';
    rows.forEach((row, i) => {
        if (!row.email) return;
        const tr = document.createElement('tr');
        tr.innerHTML = `
            <td>${i + 1}</td>
            <td>${row.platform || 'VSPhone'}</td>
            <td>${row.email}</td>
            <td style="font-family: monospace;">${row.password}</td>
            <td>
                <button class="btn btn-login" onclick="login('${row.email}','${row.password}')">üöÄ LOGIN</button>
                <button class="btn btn-buff" onclick="buff()">üî• BUFF</button>
            </td>
        `;
        tbody.appendChild(tr);
    });
}

function login(email, pass) {
    const newWin = window.open('https://cloud.vsphone.com/login', '_blank');
    setTimeout(() => {
        newWin.postMessage({ type: 'AUTO_LOGIN', email, password: pass }, 'https://cloud.vsphone.com');
    }, 2000);
}

function buff() {
    const channelId = document.getElementById('channelId').value;
    if (!channelId) {
        alert("Vui l√≤ng nh·∫≠p Channel ID tr∆∞·ªõc!");
        return;
    }
    // M·ªü Discord v·ªõi tham s·ªë buff=true ƒë·ªÉ script t·ª± ch·∫°y
    window.open(`https://discord.com/channels/@me/${channelId}?buff=true`, '_blank');
}

loadSheet();
</script>
</body>
</html>
