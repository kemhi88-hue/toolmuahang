<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Create Order - Hoang Cloud</title>
  <style>
    body {
      font-family: Arial;
      max-width: 600px;
      margin: auto;
      padding: 20px;
    }
    input, textarea, button {
      width: 100%;
      margin: 6px 0;
      padding: 8px;
    }
    textarea { height: 100px; }
    pre {
      background: #111;
      color: #0f0;
      padding: 10px;
    }
  </style>
</head>
<body>

<h2>ðŸ›’ Táº¡o Ä‘Æ¡n hÃ ng (create_order)</h2>

<label>Token</label>
<input id="token" value="0d64ac97f0e52fe735af6639c23ccf71303f6d13f6a414">

<label>Product ID</label>
<input id="product_id" value="ID14">

<label>Sá»‘ lÆ°á»£ng</label>
<input id="quantity" type="number" value="1">

<label>Input data (náº¿u cÃ³)</label>
<textarea id="input_data"></textarea>

<button onclick="createOrder()">ðŸš€ Táº¡o Ä‘Æ¡n</button>

<h3>Káº¿t quáº£</h3>
<pre id="result"></pre>

<script>
async function createOrder() {
  const payload = {
    token: document.getElementById("token").value,
    product_id: document.getElementById("product_id").value,
    quantity: Number(document.getElementById("quantity").value),
    input_data: document.getElementById("input_data").value
  };

  try {
    const res = await fetch("https://hoang.cloud/dev/create_order", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(payload)
    });

    const data = await res.json();

    // LÆ°u order_id náº¿u cÃ³
    if (data?.data?.order_id) {
      let orders = JSON.parse(localStorage.getItem("orders") || "[]");
      orders.push({
        time: new Date().toISOString(),
        product_id: payload.product_id,
        order_id: data.data.order_id
      });
      localStorage.setItem("orders", JSON.stringify(orders));
    }

    document.getElementById("result").textContent =
      JSON.stringify(data, null, 2);

  } catch (e) {
    document.getElementById("result").textContent = e.toString();
  }
}
</script>

</body>
</html>
