<!DOCTYPE html>
<html lang="vi">
<meta charset="utf-8">

<h3>Mua sản phẩm Hanami</h3>

<input id="pid" value="ID14" placeholder="product_id"><br><br>
<input id="qty" type="number" value="1"><br><br>
<button onclick="buy()">MUA</button>

<pre id="log"></pre>

<script>
async function buy() {
  log.textContent = "Đang gửi request...";

  try {
    const res = await fetch(
      "https://corsproxy.io/?https://hoang.cloud/dev/create_order",
      {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          token: "0d64ac97f0e52fe735af6639c23ccf71303f6d13f6a414",
          product_id: pid.value,
          quantity: Number(qty.value),
          input_data: ""
        })
      }
    );

    const data = await res.json();
    log.textContent = JSON.stringify(data, null, 2);

  } catch (e) {
    log.textContent = "❌ Lỗi:\n" + e.toString();
  }
}
</script>
</html>
